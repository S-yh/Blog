<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML | 随笔小记</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="石宇航的博客">
    <link rel="preload" href="/blog/assets/css/0.styles.42abb846.css" as="style"><link rel="preload" href="/blog/assets/js/app.49fca04d.js" as="script"><link rel="preload" href="/blog/assets/js/2.6995965a.js" as="script"><link rel="preload" href="/blog/assets/js/14.eaec94b1.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.cb81de66.js"><link rel="prefetch" href="/blog/assets/js/11.81fc5bd7.js"><link rel="prefetch" href="/blog/assets/js/12.d20fc09d.js"><link rel="prefetch" href="/blog/assets/js/13.2806f10b.js"><link rel="prefetch" href="/blog/assets/js/15.31249999.js"><link rel="prefetch" href="/blog/assets/js/16.7b83dcb3.js"><link rel="prefetch" href="/blog/assets/js/17.ed79b9dd.js"><link rel="prefetch" href="/blog/assets/js/18.a78e71a3.js"><link rel="prefetch" href="/blog/assets/js/19.8a547321.js"><link rel="prefetch" href="/blog/assets/js/20.77894720.js"><link rel="prefetch" href="/blog/assets/js/21.ee18c908.js"><link rel="prefetch" href="/blog/assets/js/3.374e96a6.js"><link rel="prefetch" href="/blog/assets/js/4.b708aa86.js"><link rel="prefetch" href="/blog/assets/js/5.b7372fd0.js"><link rel="prefetch" href="/blog/assets/js/6.285fd3dc.js"><link rel="prefetch" href="/blog/assets/js/7.c9119055.js"><link rel="prefetch" href="/blog/assets/js/8.24bc9bf8.js"><link rel="prefetch" href="/blog/assets/js/9.278c2a02.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.42abb846.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">随笔小记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/S-yh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/S-yh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/html/" class="active sidebar-link">HTML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/html/#doctype" class="sidebar-link">Doctype</a></li><li class="sidebar-sub-header"><a href="/blog/html/#html语义化" class="sidebar-link">HTML语义化</a></li><li class="sidebar-sub-header"><a href="/blog/html/#多个域名存储网站资源" class="sidebar-link">多个域名存储网站资源</a></li><li class="sidebar-sub-header"><a href="/blog/html/#window常用属性与方法" class="sidebar-link">window常用属性与方法</a></li><li class="sidebar-sub-header"><a href="/blog/html/#document常用属性与方法" class="sidebar-link">document常用属性与方法</a></li><li class="sidebar-sub-header"><a href="/blog/html/#src与href区别" class="sidebar-link">src与href区别</a></li><li class="sidebar-sub-header"><a href="/blog/html/#reflow和repaint" class="sidebar-link">reflow和repaint</a></li><li class="sidebar-sub-header"><a href="/blog/html/#html5新特性" class="sidebar-link">html5新特性</a></li><li class="sidebar-sub-header"><a href="/blog/html/#cookies，sessionstorage和localstorage" class="sidebar-link">cookies，sessionStorage和localStorage</a></li><li class="sidebar-sub-header"><a href="/blog/html/#浏览器多标签页的通信" class="sidebar-link">浏览器多标签页的通信</a></li><li class="sidebar-sub-header"><a href="/blog/html/#移动端click延迟300ms" class="sidebar-link">移动端click延迟300ms</a></li><li class="sidebar-sub-header"><a href="/blog/html/#移动端click点击穿透" class="sidebar-link">移动端click点击穿透</a></li></ul></li><li><a href="/blog/css/" class="sidebar-link">CSS</a></li><li><a href="/blog/js/" class="sidebar-link">JavaScript</a></li><li><a href="/blog/vue/" class="sidebar-link">Vue</a></li><li><a href="/blog/react/" class="sidebar-link">React</a></li><li><a href="/blog/node/" class="sidebar-link">Node</a></li><li><a href="/blog/webpack/" class="sidebar-link">Webpack</a></li><li><a href="/blog/git/" class="sidebar-link">Git</a></li><li><a href="/blog/nginx/" class="sidebar-link">Nginx</a></li><li><a href="/blog/docker/" class="sidebar-link">Docker</a></li><li><a href="/blog/browser/" class="sidebar-link">浏览器</a></li><li><a href="/blog/snippet/" class="sidebar-link">工具函数/代码片段</a></li><li><a href="/blog/algorithm/" class="sidebar-link">数据结构/算法</a></li><li><a href="/blog/performance/" class="sidebar-link">性能优化</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="html"><a href="#html" class="header-anchor">#</a> HTML</h1> <h2 id="doctype"><a href="#doctype" class="header-anchor">#</a> Doctype</h2> <p>Doctype作用以及标准模式与兼容模式有什么区别</p> <ul><li>声明位于HTML文档的第一行，处于标签之前，告知浏览器的解析器用什么文档标准解析这个文档，DOCTYPE不存在或格式不正确会导致文档以兼容模式呈现。</li> <li>标准模式的排版和JS运作模式都是以该浏览器的最高标准运行，兼容模式中，页面以宽松的向后兼容的方式显示，模拟老式浏览器的行为以防止站点无法工作。</li> <li>HTML5不基于SGML，因此不需要对DTD进行引用，但是需要DOCTYPE来规范浏览器的行为。</li></ul> <h2 id="html语义化"><a href="#html语义化" class="header-anchor">#</a> HTML语义化</h2> <ul><li>用正确的标签做正确的事情；</li> <li>html 语义化让页面的内容结构化，结构更清晰；</li> <li>便于对浏览器、搜索引擎解析；</li> <li>即使在没有样式 CSS 情况下也以一种文档格式显示，并且是容易阅读的；</li> <li>搜索引擎的爬虫也依赖于 HTML 标记来确定上下文和各个关键字的权重，利于 SEO；</li> <li>使阅读源代码的人对网站更容易将网站分块，便于阅读维护理解。</li></ul> <h2 id="多个域名存储网站资源"><a href="#多个域名存储网站资源" class="header-anchor">#</a> 多个域名存储网站资源</h2> <ul><li>确保用户在不同地区能用最快的速度打开网站，其中某个域名崩溃用户也能通过其他域名访问网站。</li> <li>CDN 缓存更方便。简单来说，CDN 主要用来使用户就近获取资源。</li> <li>突破浏览器并发限制。同一时间针对同一域名下的请求有一定数量限制，超过限制数目的请求会被阻塞。大多数浏览器的并发数量都控制在6以内。有些资源的请求时间很长，因而会阻其他资源的请求。因此，对于一些静态资源，如果放到不同的域名下面就能实现与其他资源的并发请求。</li> <li>Cookieless, 节省带宽，尤其是上行带宽 一般比下行要慢。</li> <li>对于 UGC 的内容和主站隔离，防止不必要的安全问题。</li> <li>数据做了划分，甚至切到了不同的物理集群，通过子域名来分流比较省事. 这个可能被用的不多。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>CDN: 是构建在网络之上的内容发布网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容发布、调度等功能模块，是用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要是内容存储和分布技术。简单来说，CDN主要用来使用户就近获取资源。</p></div> <h2 id="window常用属性与方法"><a href="#window常用属性与方法" class="header-anchor">#</a> window常用属性与方法</h2> <ul><li><p>window 对象的常用属性</p> <ul><li>window.self          返回当前窗口的引用</li> <li>window.parent        返回当前窗体的父窗体对象</li> <li>window.top           返回当前窗体最顶层的父窗体的引用</li> <li>window.outerwidth    返回当前窗口的外部宽</li> <li>window.outerheight   返回当前窗口的外部高</li> <li>window.innerwidth    返回当前窗口的可显示区域宽</li> <li>window.innerheight   返回当前窗口的可显示区域高</li></ul></li> <li><p>window 对象的常用方法</p> <ul><li>window.prompt()                                 弹出一个输入提示框，若用户点击了“取消”则返回 null</li> <li>window.alert()                                  弹出一个警告框</li> <li>window.confirm()                                弹出一个确认框</li> <li>window.close()                                  关闭当前浏览器窗口。 有些浏览器对此方法有限制。</li> <li>window.open(uri, [name], [features])            打开一个浏览器窗口，显示指定的网页。name属性值可以是“_blank”、“_self”、“_parent”、“_top”、任意指定的一个窗口名。</li> <li>window.blur( )                                  指定当前窗口失去焦点</li> <li>window.focus( )                                 指定当前窗口获得焦点</li> <li>window.showModalDialog(uri, [dataFromParent])   打开一个“模态窗口”（打开的子窗口只要不关闭，其父窗口即无法获得焦点；且父子窗口间可以传递数据）</li></ul></li></ul> <h2 id="document常用属性与方法"><a href="#document常用属性与方法" class="header-anchor">#</a> document常用属性与方法</h2> <ul><li><p>document 常见的属性</p> <ul><li>body 提供对 元素的直接访问。对于定义了框架集的文档，该属性引用最外层的 。</li> <li>cookie 设置或返回与当前文档有关的所有 cookie。</li> <li>domain 返回当前文档的域名。</li> <li>lastModified 返回文档被最后修改的日期和时间。</li> <li>referrer 返回载入当前文档的文档的 URL。</li> <li>title 返回当前文档的标题。</li> <li>URL 返回当前文档的 URL。</li></ul></li> <li><p>document常见的方法</p> <ul><li>write()：动态向页面写入内容</li> <li>createElement(Tag)：创建一个 HTML 标签对象</li> <li>getElementById(ID)：获得指定 id 的对象</li> <li>getElementsByName(Name)：获得之前 Name 的对象</li> <li>body.appendChild(oTag)：向 HTML 中插入元素对象</li></ul></li></ul> <h2 id="src与href区别"><a href="#src与href区别" class="header-anchor">#</a> src与href区别</h2> <ul><li>href指向网络资源所在, 建立和当前元素(锚点)或当前文档的链接,用于超链接</li> <li>src指向外部资源的位置，指向的内容将会嵌入到文档中当前标签的位置</li> <li>请求src资源时会将指向的资源下载并应用到文档内，包括（图片，js脚本，frame等），当浏览器解析到该元素的时候，会暂停其他资源的下载和处理，知道该资源加载，执行完毕。这也是为什么将js脚本放在底部而不是头部</li></ul> <h2 id="reflow和repaint"><a href="#reflow和repaint" class="header-anchor">#</a> reflow和repaint</h2> <p>repaint就是重绘，reflow就是回流（重排）。性能消耗: reflow &gt; repaint<br>
repaint是某个DOM元素进行重绘, reflow是对整个文档页面进行重排，重新渲染所有DOM元素</p> <p>常见触发场景:</p> <ul><li>repaint
<ul><li>color的修改</li> <li>text-algin的修改</li> <li>a:hover</li></ul></li> <li>reflow
<ul><li>width/height/border/margin/padding的修改</li> <li>动画</li> <li>appendchild</li> <li>background的修改, 部分属性只触发repaint</li> <li>scroll页面</li> <li>resize页面</li> <li>读取元素的属性 ??( offsetLeft、offsetTop、offsetHeight、offsetWidth、scrollTop/Left/Width/Height、clientTop/Left/Width/Height、getComputedStyle())</li></ul></li></ul> <p>如何避免:</p> <ul><li>尽可能在 DOM 末梢通过改变 class 来修改元素的 style 属性：尽可能的减少受影响的 DOM 元素。</li> <li>避免设置多项内联样式：使用常用的 class 的方式进行设置样式，以避免设置样式时访问 DOM 的低效率。</li> <li>设置动画元素 position 属性为 fixed 或者 absolute：由于当前元素从 DOM 流中独立出来，因此受影响的只有当前元素，元素 repaint。</li> <li>牺牲平滑度满足性能：动画精度太强，会造成更多次的 repaint/reflow，牺牲精度，能满足性能的损耗，获取性能和平滑度的平衡。</li> <li>避免使用 table 进行布局：table 的每个元素的大小以及内容的改动，都会导致整个 table 进行重新计算，造成大幅度的 repaint 或者 reflow。改用 div 则可以进行针对性的 repaint 和避免不必要的 reflow。</li> <li>避免在 CSS 中使用运算式：学习 CSS 的时候就知道，这个应该避免，不应该加深到这一层再去了解，因为这个的后果确实非常严重，一旦存在动画性的 repaint/reflow，那么每一帧动画都会进行计算，性能消耗不容小觑。</li></ul> <h2 id="html5新特性"><a href="#html5新特性" class="header-anchor">#</a> html5新特性</h2> <ul><li>绘画canvas</li> <li>媒介回放 video, audio</li> <li>本地存储 localstorage</li> <li>sessionstorage浏览器关闭自动删除</li> <li>语义话更好的内容article, footer, header, nav, section</li> <li>表单控件 calendar, date, time, email, url, search</li> <li>新技术 webworker, websocket, Geolocation</li></ul> <h2 id="cookies，sessionstorage和localstorage"><a href="#cookies，sessionstorage和localstorage" class="header-anchor">#</a> cookies，sessionStorage和localStorage</h2> <ul><li><p>cookie是网站为了标示用户身份而存储在用户本地终端上的数据</p></li> <li><p>cookie数据始终在同源的http请求中携带, 在服务器和浏览器之间来回传递</p></li> <li><p>sessionstorage和localstorage不会自动把数据发到服务器,仅在本地保存</p> <p>存储大小</p></li> <li><p>cookie大小不能超过4k</p></li> <li><p>storage可以达到5M或更大</p> <p>有效时间</p></li> <li><p>localstorage持久有效</p></li> <li><p>sessionstorage浏览器关闭之前有效</p></li> <li><p>cookie在设定时间内有效</p></li></ul> <h2 id="浏览器多标签页的通信"><a href="#浏览器多标签页的通信" class="header-anchor">#</a> <a href="https://juejin.im/post/5acdba01f265da23826e5633" target="_blank" rel="noopener noreferrer">浏览器多标签页的通信<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ul><li>WebSocket、SharedWorker；</li> <li>也可以调用 localstorge、cookies 等本地存储方式；</li> <li>localstorge 在另一个浏览上下文里被添加、修改或删除时，它都会触发一个事件，我们通过监听事件，控制它的值来进行页面信息通信； 注意 quirks：Safari 在无痕模式下设置 localstorge 值时会抛出 QuotaExceededError 的异常；</li></ul> <h2 id="移动端click延迟300ms"><a href="#移动端click延迟300ms" class="header-anchor">#</a> 移动端click延迟300ms</h2> <ul><li>为了实现双击缩放操作, 在单击300ms后, 如果未进行第二次点击, 则执行click单击操作, 也就是为了判断用户是否双击, 但是在app中无论是否需要双击缩放, click都会产生300ms延迟</li> <li>解决方案:
<ul><li>使用touchstart替换click: 将click替换成touchstart不仅解决了click事件延时问题. 还解决了穿透问题, 因为穿透问题是在touch和click混用时产生的
<ul><li>使用fastclick库,</li></ul></li></ul></li></ul> <h2 id="移动端click点击穿透"><a href="#移动端click点击穿透" class="header-anchor">#</a> 移动端click点击穿透</h2> <ul><li>双层元素叠加时, 在上层元素上绑定touch事件, 下层元素绑定click事件, 由于click发生在touch之后, 点击上层元素, 元素消失, 下层元素会触发click事件, 由此产生了点击穿透的效果</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/css/">
        CSS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.49fca04d.js" defer></script><script src="/blog/assets/js/2.6995965a.js" defer></script><script src="/blog/assets/js/14.eaec94b1.js" defer></script>
  </body>
</html>
